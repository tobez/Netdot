<%doc>
Attempts to guess an appropriate backbone name based on start and end closet.

TODO: May need to be more intelligent about suggesting duplicates.
</%doc>

<%args>
$start
$end
$name
</%args>

<html>
<body>
<script language="JavaScript">
<!--
<%perl>
my $start_loc = Location->retrieve($start);
my $end_loc = Location->retrieve($end);

my $suggestedName = $start_loc->get_label . "/" . $end_loc->get_label;
my @existing = BackboneCable->search_like(name=>$suggestedName . "%");
$suggestedName = $suggestedName . "-" . (scalar(@existing) + 1);

printf("opener.document.netdotform.%s.value = \"%s\";\n", $name, $suggestedName);

printf("window.close();\n");
</%perl>
-->
</script>
</body>
</html>
